[ERROR] 2019-03-13 06:44:12,455 | /home/babitagujar/frappe-bench/apps/frappe/frappe/app.py:
Site: ekart_site
Form Dict: {
 "action": "Save",
 "cmd": "frappe.desk.form.save.savedocs",
 "doc": "{\"name\":\"Store Product\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"idx\":0,\"search_fields\":\"\",\"issingle\":0,\"istable\":0,\"editable_grid\":1,\"track_changes\":1,\"module\":\"Ekart\",\"autoname\":\"format:{store}-{product}\",\"name_case\":\"\",\"title_field\":\"title\",\"sort_field\":\"\",\"sort_order\":\"DESC\",\"read_only\":0,\"in_create\":0,\"allow_copy\":0,\"allow_rename\":1,\"allow_import\":1,\"hide_toolbar\":0,\"hide_heading\":0,\"track_seen\":0,\"max_attachments\":0,\"read_only_onload\":0,\"document_type\":\"\",\"engine\":\"InnoDB\",\"is_submittable\":0,\"show_name_in_global_search\":0,\"custom\":0,\"beta\":0,\"image_view\":0,\"has_web_view\":1,\"allow_guest_to_view\":1,\"route\":\"store_product\",\"is_published_field\":\"published\",\"quick_entry\":1,\"track_views\":0,\"allow_events_in_timeline\":0,\"doctype\":\"DocType\",\"fields\":[{\"name\":\"3bd8d95b1d\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":1,\"fieldname\":\"store\",\"label\":\"Store\",\"fieldtype\":\"Link\",\"options\":\"Store\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":1,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"read_only\":0,\"precision\":\"\",\"length\":0,\"translatable\":0,\"allow_bulk_edit\":0,\"ignore_xss_filter\":0,\"remember_last_selected_value\":0,\"print_hide_if_no_value\":0,\"in_filter\":0,\"doctype\":\"DocField\"},{\"name\":\"3c8f945248\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":2,\"fieldname\":\"product\",\"label\":\"Product\",\"fieldtype\":\"Link\",\"options\":\"Inventory\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":1,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"in_list_view\":1,\"in_standard_filter\":0,\"read_only\":0,\"precision\":\"\",\"length\":0,\"translatable\":0,\"allow_bulk_edit\":0,\"ignore_xss_filter\":0,\"remember_last_selected_value\":0,\"print_hide_if_no_value\":0,\"in_filter\":0,\"doctype\":\"DocField\"},{\"name\":\"4faa254eb8\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":3,\"fieldname\":\"offer\",\"label\":\"Offer\",\"fieldtype\":\"Link\",\"options\":\"Offer\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":0,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"read_only\":0,\"precision\":\"\",\"length\":0,\"translatable\":0,\"allow_bulk_edit\":0,\"ignore_xss_filter\":0,\"remember_last_selected_value\":0,\"print_hide_if_no_value\":0,\"in_filter\":0,\"doctype\":\"DocField\"},{\"name\":\"b55465ad6c\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":4,\"fieldname\":\"price\",\"label\":\"Price\",\"fieldtype\":\"Float\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":0,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"read_only\":0,\"precision\":\"\",\"length\":0,\"translatable\":0,\"allow_bulk_edit\":0,\"ignore_xss_filter\":0,\"remember_last_selected_value\":0,\"print_hide_if_no_value\":0,\"in_filter\":0,\"doctype\":\"DocField\"},{\"name\":\"436caf02fe\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":5,\"fieldname\":\"route\",\"label\":\"Route\",\"fieldtype\":\"Data\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":0,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"read_only\":1,\"precision\":\"\",\"length\":0,\"translatable\":0,\"allow_bulk_edit\":0,\"ignore_xss_filter\":0,\"remember_last_selected_value\":0,\"print_hide_if_no_value\":0,\"in_filter\":0,\"doctype\":\"DocField\"},{\"name\":\"d27ffb7d69\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":6,\"fieldname\":\"published\",\"label\":\"Published\",\"fieldtype\":\"Check\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":0,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"read_only\":0,\"precision\":\"\",\"length\":0,\"translatable\":0,\"allow_bulk_edit\":0,\"ignore_xss_filter\":0,\"remember_last_selected_value\":0,\"print_hide_if_no_value\":0,\"in_filter\":0,\"doctype\":\"DocField\"},{\"name\":\"0d8340b26b\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":7,\"fieldname\":\"title\",\"label\":\"Title\",\"fieldtype\":\"Data\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":0,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"in_list_view\":0,\"in_standard_filter\":0,\"read_only\":0,\"precision\":\"\",\"length\":0,\"translatable\":0,\"allow_bulk_edit\":0,\"ignore_xss_filter\":0,\"remember_last_selected_value\":0,\"print_hide_if_no_value\":0,\"in_filter\":0,\"doctype\":\"DocField\"},{\"name\":\"01b2b90e37\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"fields\",\"parenttype\":\"DocType\",\"idx\":8,\"fieldname\":\"discounted_price\",\"label\":\"Discounted Price\",\"fieldtype\":\"Float\",\"search_index\":0,\"hidden\":0,\"set_only_once\":0,\"allow_in_quick_entry\":0,\"print_hide\":0,\"report_hide\":0,\"reqd\":0,\"bold\":0,\"in_global_search\":0,\"collapsible\":0,\"unique\":0,\"no_copy\":0,\"allow_on_submit\":0,\"permlevel\":0,\"ignore_user_permissions\":0,\"columns\":0,\"default\":\"price * (100-discount)/100\",\"in_list_view\":0,\"in_standard_filter\":0,\"read_only\":0,\"precision\":\"\",\"length\":0,\"translatable\":0,\"allow_bulk_edit\":0,\"ignore_xss_filter\":0,\"remember_last_selected_value\":0,\"print_hide_if_no_value\":0,\"in_filter\":0,\"fetch_from\":\"\",\"doctype\":\"DocField\"}],\"permissions\":[{\"name\":\"4b8cc02bba\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"permissions\",\"parenttype\":\"DocType\",\"idx\":1,\"permlevel\":0,\"role\":\"System Manager\",\"read\":1,\"write\":1,\"create\":1,\"submit\":0,\"cancel\":0,\"delete\":1,\"amend\":0,\"report\":1,\"export\":1,\"import\":0,\"share\":1,\"print\":1,\"email\":1,\"if_owner\":0,\"set_user_permissions\":0,\"doctype\":\"DocPerm\"},{\"name\":\"d6dafcd4c7\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"permissions\",\"parenttype\":\"DocType\",\"idx\":2,\"permlevel\":0,\"role\":\"Buyer\",\"read\":1,\"write\":1,\"create\":1,\"submit\":0,\"cancel\":0,\"delete\":1,\"amend\":0,\"report\":1,\"export\":1,\"import\":0,\"share\":1,\"print\":1,\"email\":1,\"if_owner\":0,\"set_user_permissions\":0,\"doctype\":\"DocPerm\"},{\"name\":\"007198d8e2\",\"creation\":\"2018-12-27 15:33:42.224622\",\"modified\":\"2019-03-13 11:52:16.575579\",\"modified_by\":\"Administrator\",\"owner\":\"Administrator\",\"docstatus\":0,\"parent\":\"Store Product\",\"parentfield\":\"permissions\",\"parenttype\":\"DocType\",\"idx\":3,\"permlevel\":0,\"role\":\"Seller\",\"read\":1,\"write\":1,\"create\":1,\"submit\":0,\"cancel\":0,\"delete\":1,\"amend\":0,\"report\":1,\"export\":1,\"import\":0,\"share\":1,\"print\":1,\"email\":1,\"if_owner\":0,\"set_user_permissions\":0,\"doctype\":\"DocPerm\"}],\"__last_sync_on\":\"2019-03-13T06:43:42.137Z\",\"__unsaved\":1,\"server_code_compiled\":null}"
}
Request Error
Traceback (most recent call last):
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/app.py", line 55, in application
    response = frappe.handler.handle()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/handler.py", line 20, in handle
    data = execute_cmd(cmd)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/handler.py", line 55, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/__init__.py", line 1007, in call
    return fn(*args, **newargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/desk/form/save.py", line 22, in savedocs
    doc.save()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 259, in save
    return self._save(*args, **kwargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 312, in _save
    self.run_post_save_methods()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 915, in run_post_save_methods
    self.run_method("on_update")
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 780, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 1058, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 1041, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 774, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/core/doctype/doctype/doctype.py", line 258, in on_update
    raise e
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/core/doctype/doctype/doctype.py", line 255, in on_update
    frappe.db.updatedb(self.name, self)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/mariadb/database.py", line 280, in updatedb
    db_table.sync()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/schema.py", line 36, in sync
    self.alter()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/mariadb/schema.py", line 86, in alter
    raise e
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/mariadb/schema.py", line 75, in alter
    frappe.db.sql(query)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/database.py", line 165, in sql
    self._cursor.execute(query)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1918, "Encountered illegal value '' when converting to DECIMAL")
[ERROR] 2019-03-13 06:44:12,537 | /home/babitagujar/frappe-bench/apps/frappe/frappe/utils/error.py:
Could not take error snapshot: startswith first arg must be str or a tuple of str, not bytes
Traceback (most recent call last):
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/app.py", line 55, in application
    response = frappe.handler.handle()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/handler.py", line 20, in handle
    data = execute_cmd(cmd)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/handler.py", line 55, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/__init__.py", line 1007, in call
    return fn(*args, **newargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/desk/form/save.py", line 22, in savedocs
    doc.save()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 259, in save
    return self._save(*args, **kwargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 312, in _save
    self.run_post_save_methods()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 915, in run_post_save_methods
    self.run_method("on_update")
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 780, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 1058, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 1041, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/model/document.py", line 774, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/core/doctype/doctype/doctype.py", line 258, in on_update
    raise e
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/core/doctype/doctype/doctype.py", line 255, in on_update
    frappe.db.updatedb(self.name, self)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/mariadb/database.py", line 280, in updatedb
    db_table.sync()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/schema.py", line 36, in sync
    self.alter()
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/mariadb/schema.py", line 86, in alter
    raise e
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/mariadb/schema.py", line 75, in alter
    frappe.db.sql(query)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/database/database.py", line 165, in sql
    self._cursor.execute(query)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/cursors.py", line 170, in execute
    result = self._query(query)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/cursors.py", line 328, in _query
    conn.query(q)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 516, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 727, in _read_query_result
    result.read()
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 1066, in read
    first_packet = self.connection._read_packet()
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/connections.py", line 683, in _read_packet
    packet.check_error()
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/protocol.py", line 220, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/babitagujar/frappe-bench/env/lib/python3.6/site-packages/pymysql/err.py", line 109, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.InternalError: (1918, "Encountered illegal value '' when converting to DECIMAL")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/utils/error.py", line 37, in make_error_snapshot
    snapshot = get_snapshot(exception)
  File "/home/babitagujar/frappe-bench/apps/frappe/frappe/utils/error.py", line 132, in get_snapshot
    if type(value)==str and value.startswith(b"u'"):
TypeError: startswith first arg must be str or a tuple of str, not bytes
